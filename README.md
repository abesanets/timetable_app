# Расписание МГКЦТ - Android приложение

Минимальное Android-приложение для загрузки и отображения расписания занятий с сайта колледжа.

## Технологии

- **Язык**: Kotlin
- **UI**: Jetpack Compose
- **HTTP**: OkHttp
- **Парсинг HTML**: Jsoup
- **Асинхронность**: Kotlin Coroutines

## Структура проекта

```
app/src/main/java/com/example/schedule/
├── MainActivity.kt       - Главная активность с UI
├── Models.kt            - Модели данных (Schedule, DaySchedule, Lesson)
├── ScheduleFetcher.kt   - HTTP-клиент для загрузки HTML
└── ScheduleParser.kt    - Парсер HTML-таблицы расписания
```

## Как работает

1. **Ввод группы**: Пользователь вводит номер группы (например "88")
2. **Загрузка**: Приложение формирует URL и загружает HTML страницы
3. **Парсинг**: Jsoup парсит HTML-таблицу с учётом colspan
4. **Отображение**: Расписание показывается в scrollable списке

## Ключевые моменты

### ScheduleFetcher.kt
- Использует OkHttpClient с таймаутами
- Добавляет User-Agent для обхода блокировок
- Работает в IO-потоке через coroutines

### ScheduleParser.kt
- Ищет текст "Группа - XX" на странице
- Находит таблицу сразу после этого текста
- Разворачивает строки с учётом colspan (метод `expandRow`)
- Пропускает пустые значения и прочерки
- Не падает при несовпадении размеров массивов

### MainActivity.kt
- Использует Jetpack Compose для UI
- Управляет состоянием через `remember` и `mutableStateOf`
- Запускает загрузку в корутине через `rememberCoroutineScope`
- Показывает ошибки в UI (без крашей)

## Запуск

1. Откройте проект в Android Studio
2. Синхронизируйте Gradle
3. Запустите на эмуляторе или устройстве (API 24+)
4. Введите номер группы и нажмите "Загрузить расписание"

## Требования

- Android Studio Hedgehog или новее
- Android SDK 24+ (Android 7.0)
- Интернет-соединение на устройстве
